<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Satvik Saha">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Satvik Saha</title>

    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" > 
    <link rel="stylesheet" href="cards.css">
    <link rel="stylesheet" href="styles.css">
    <script src="init.js"></script>

</head>
<body>
    <div id="global-container">
        <div id="logo-container">
            <img id="logo" src="logo_alpha.svg" alt="" onmouseup="toggleTheme()"/>
            <div id="name">Satvik Saha</div>
        </div>
        <div id="main-card-container" class="card-container">
            <div id="quote-card" class="card card-dark card-row pressable" onmouseup="showQuote(-1, quotes)">
                <div class="card-inner-container">
                    <div id="quote-text"></div>
                </div>
                <div id="quote-author" class="card-title"></div>
            </div>
            <div id="mathematics" class="card card-dark">
                <div class="card-title">
                    Mathematics
                    <i class="card-icon material-icons">notes</i>
                </div> 
                <div class="card-inner-container">
                    <a href="math/differentiation.html">      Differentiation       </a>
                    <a href="math/integration.html">          Integration           </a>
                    <a href="math/complex.html">              Complex Numbers       </a>
                    <a href="math/complex.pdf">               Complex Identities    </a>
                    <a href="math/olympiadInequalities.pdf">  Olympiad Inequalities </a>
                    <a href="math/summation.pdf">             Summation Identities  </a>
                    <a href="math/telescoping.pdf">           Telescoping Sums      </a>
                </div>
            </div>
            <div id="physics" class="card card-dark">
                <div class="card-title">
                    Physics
                    <i class="card-icon material-icons">notes</i>
                </div> 
                <div class="card-inner-container">
                    <a href="physics/pendulum.html">       The Motion of a Simple Pendulum    </a>
                    <a href="physics/aircraftTarget.pdf">  Aiming a Projectile at an Aircraft </a>
                    <a href="physics/flashlight.pdf">      Flashlight Tracking Aircraft       </a>
                    <a href="physics/sliding.pdf">         Sliding down Chords of a Circle    </a>
                    <a href="physics/projectile.pdf">      The Range of a Projectile          </a>
                    <a href="physics/variableForce.pdf">   Variable Force on a Moving Body    </a>
                    <a href="physics/ladderSlip.pdf">      Ladder in Equilibrium              </a>
                </div>
            </div>
            <div id="now-playing-card" class="card card-dark card-row" style="display: none">
                <div class="card-title">
                    <i class="card-icon material-icons">music_note</i>
                </div>
                <div class="card-inner-container">
                    <div id="now-playing-album"></div>
                    <a id="now-playing" target="_blank"></a>
                </div>
            </div>
            <div id="contacts" class="card card-dark card-row">
                <div class="card-inner-container">
                    <a href="https://github.com/sahasatvik" target="_blank">github</a>
                    <a href="mailto:sahasatvik@gmail.com" target="_blank">gmail</a>
                    <a href="https://www.last.fm/user/sahasatvik" target="_blank">last.fm</a>
                    <a href="https://lichess.org/@/sahasatvik" target="_blank">lichess</a>
                    <a href="https://reddit.com/user/sahasatvik" target="_blank">reddit</a>
                    <a href="https://quora.com/profile/satvik-saha" target="_blank">quora</a>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" charset="utf-8">
        var x = document.getElementsByClassName("card");
        var light = JSON.parse(localStorage.getItem("light"));
        if (light == null) {light = false;}
        
		function lightTheme() {
            document.getElementById("logo").classList.add("inverted");
            for (var i = 0; i < x.length; i++) {
                x[i].classList.remove("card-dark");
            }
            document.body.style.backgroundColor = "#f2f2f2";
            document.getElementById("name").style.color = "#272727";
        }
		function darkTheme() {
            document.getElementById("logo").classList.remove("inverted");
            for (var i = 0; i < x.length; i++) {
                x[i].classList.add("card-dark");
            }
            document.body.style.backgroundColor = "#272727";
            document.getElementById("name").style.color = "#ffffff";
        }
        function toggleTheme() {
            light = !light;
            refreshTheme();
        }
        function refreshTheme() {
            theme = light? lightTheme : darkTheme;
            theme();
            localStorage.setItem("light", JSON.stringify(light));
        }
        refreshTheme();
        showQuote(-1, quotes);
        
        var getJSON = function(url, callback) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url, true);
            xhr.responseType = 'json';
            xhr.onload = function() {
                var status = xhr.status;
                if (status === 200) {
                    callback(null, xhr.response);
                } else {
                    callback(status, xhr.response);
                }
            };
            xhr.send();
        };
        
        var lastfmURL = 
            'https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=sahasatvik&api_key=3193e14c84770e38d316f60f08134807&limit=1&format=json';
        function updateNowPlaying () {
            getJSON(lastfmURL,
                function(err, data) {
                    if (('@attr' in data['recenttracks']['track']['0'])
                      && (data['recenttracks']['track'][0]['@attr']['nowplaying'] === 'true')) {
                        var album  = data['recenttracks']['track'][0]['album']['#text'];
                        var artist = data['recenttracks']['track'][0]['artist']['#text'];
                        var track  = data['recenttracks']['track'][0]['name'];
                        var url    = data['recenttracks']['track'][0]['url'];
                        document.getElementById('now-playing-card').style.display = 'block';
                        document.getElementById('now-playing-album').innerHTML = album;
                        document.getElementById('now-playing').innerHTML = artist + ' - ' + track;
                        document.getElementById('now-playing').href = url;
                    } else {
                        document.getElementById('now-playing-card').style.display = 'none';
                    }
                }
            );
        }
        updateNowPlaying();
        setInterval(updateNowPlaying, 10000);
    </script>
</body>
</html>
